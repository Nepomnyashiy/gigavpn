# Финальный План Разработки (согласно SADD)

Мы будем двигаться пофазово, от ядра системы к внешним интерфейсам, как рекомендовано в документе `Архитектура Программного Комплекса_ GIGA VPN.md`.

---

### **Этап 0: Подготовка Структуры Проекта (Scaffolding)**

1.  **Задача:** Создание структуры monorepo.
    *   **Действия:** Создать корневые директории: `backend-go`, `bot-python`, `infrastructure`, `proto` и базовый `docker-compose.yml` для локального запуска.
    *   **Статус:** `Выполнено`

---

### **Этап 1: Ядро Системы (MVP Core)**

1.  **Задача:** Реализация Go-приложения для управления VPN-узлом.
    *   **Действия:**
        1.  Внутри `backend-go` создать структуру проекта (`cmd`, `internal`, `pkg`, ...).
        2.  Реализовать модуль для подключения к удаленному серверу (через gRPC, как указано в документе, или SSH для упрощения на старте).
        3.  Написать основную бизнес-логику: генерация VLESS-ключей и формирование конфигурации.
    *   **Результат:** Консольное приложение на Go, которое способно создать рабочий VPN-ключ на тестовом сервере.
    *   **Статус:** `Выполнено`

---

### **Этап 2: Слой Данных и API (Persistence & API)**

1.  **Задача:** Настройка базы данных и реализация API.
    *   **Действия:**
        1.  Добавить PostgreSQL в `docker-compose.yml`.
        2.  В директории `backend-go/migrations` создать SQL-миграции на основе `domain.go`.
        3.  Реализовать слой `repository` в Go для работы с БД (PostgreSQL).
        4.  Реализовать `transport/http` (REST API) для взаимодействия с будущим ботом.
    *   **Результат:** Работающий backend-сервис с API и подключенной базой данных.
    *   **Статус:** `К выполнению`

---

### **Этап 3: Пользовательский Интерфейс (Telegram Bot)**

1.  **Задача:** Разработка "тонкого клиента" в виде Telegram-бота.
    *   **Действия:**
        1.  Создать структуру проекта `bot-python` (`handlers`, `services`, `keyboards`).
        2.  Написать API-клиент для взаимодействия с `backend-go`.
        3.  Реализовать базовые команды пользователя (`/start`, `/profile`, `/get_key`).
    *   **Результат:** Функциональный Telegram-бот, который получает от бэкенда рабочий VPN-ключ и отображает его пользователю.
    *   **Статус:** `К выполнению`

---

### **Этап 4: Автоматизация Инфраструктуры (IaC)**

1.  **Задача:** Создание кода для автоматического развертывания.
    *   **Действия:**
        1.  В директории `infrastructure` разработать скрипты Terraform/Ansible для автоматической подготовки и настройки новых VPN-серверов.
        2.  Создать `Makefile` в корне проекта для упрощения сборки, тестирования и запуска (`make build`, `make run-local`).
    *   **Результат:** Процесс развертывания и настройки новых серверов полностью автоматизирован.
    *   **Статус:** `К выполнению`
